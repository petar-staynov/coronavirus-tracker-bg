(this["webpackJsonpcoronavirus-tracker-bg"]=this["webpackJsonpcoronavirus-tracker-bg"]||[]).push([[0],{39:function(e,a,t){e.exports=t(53)},44:function(e,a,t){},46:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),i=t.n(o),s=(t(44),t(45),t(46),t(25)),c=t(26),l=t(36),u=t(27),h=t(37),d=function(e){function a(){return Object(s.a)(this,a),Object(l.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("small",null,r.a.createElement("a",{href:"https://thevirustracker.com/api"},"api")),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("a",{href:"https://github.com/petar-staynov/coronavirus-tracker-bg"},"GitHub")))}}]),a}(n.Component),m=t(7),b={GLOBAL:"GLOBAL",AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AO:"Angola",AR:"Argentina",AM:"Armenia",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BD:"Bangladesh",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CI:"Ivory Coast",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CO:"Colombia",CG:"Congo",CD:"Democratic Republic of Congo",CR:"Costa Rica",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DP:"Diamond Princess",DJ:"Djibouti",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GR:"Greece",GL:"Greenland",GT:"Guatemala",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",XK:"Kosovo",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LT:"Lithuania",LU:"Luxembourg",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",ML:"Mali",MR:"Mauritania",MX:"Mexico",MD:"Moldova",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",KP:"North Korea",NO:"Norway",OM:"Oman",PK:"Pakistan",PS:"Palestine",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RO:"Romania",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",AE:"UAE",UG:"Uganda",GB:"United Kingdom",UA:"Ukraine",US:"USA",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Vietnam",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},p=t(55),g=t(22),C=Object(n.createContext)(),E=function(e){var a=Object(n.useState)({}),t=Object(m.a)(a,2),o=t[0],i=t[1],s=Object(n.useState)({}),c=Object(m.a)(s,2),l=c[0],u=c[1],h=Object(n.useState)(localStorage.getItem("country")),d=Object(m.a)(h,2),b=d[0],p=d[1],g=Object(n.useState)("loading"),E=Object(m.a)(g,2),v=E[0],f=E[1];return r.a.createElement(C.Provider,{value:[o,i,l,u,b,p,v,f]},e.children)},v=function(){var e=Object(n.useContext)(C),a=Object(m.a)(e,8),t=(a[0],a[1],a[2],a[3],a[4]),o=a[5],i=(a[6],a[7]);return r.a.createElement("div",{style:{marginBottom:"8px"}},r.a.createElement("h1",null,"Corona Tracker BG"),r.a.createElement("h5",null,"\u0421\u043b\u0435\u0434\u0438 \u0441\u043b\u0443\u0447\u0430\u0438\u0442\u0435 \u043d\u0430 COVID-19 \u0432 \u0440\u0435\u0430\u043b\u043d\u043e \u0432\u0440\u0435\u043c\u0435 \u043f\u043e \u0441\u0432\u0435\u0442\u0430 \u0438 \u0443 \u043d\u0430\u0441"),r.a.createElement("h4",null,(new Date).toLocaleDateString(t)),r.a.createElement("hr",null),r.a.createElement(p.a,{id:"dropdown-basic-button",variant:"secondary",size:"lg",title:b[t]},Object.keys(b).map((function(e){return r.a.createElement(g.a.Item,{onClick:function(){return a=e,localStorage.setItem("country",a),o(a),void i("loading");var a},key:e},b[e])}))))},f=t(16),O=t.n(f),S=t(23),y=t(56),j=t(8),w=t(21),A=t.n(w),G=function(){var e=Object(n.useContext)(C),a=Object(m.a)(e,8),t=(a[0],a[1],a[2]),o=(a[3],a[4],a[5],a[6],a[7],Object(n.useState)({totalCasesChart:{series:[{data:[]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:[]}}},totalDeathCasesChart:{series:[{data:[]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:[]}}},totalRecoveredCasesChart:{series:[{data:[]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:[]}}},totalActiveCasesChart:{series:[{data:[]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:[]}}},newCasesChart:{series:[{data:[]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:[]}}}})),i=Object(m.a)(o,2),s=i[0],c=i[1];Object(n.useEffect)((function(){if(!(Object.keys(t).length<=0)){var e,a=t.timeline,n=!0,r=[],o=[],i=[],l=[],u=(e=a,Object.keys(e).sort().reduce((function(a,t){return a[t]=e[t],a}),{})),h=Object.keys(u).length,d=0,m=0;Object.keys(u).forEach((function(e,a){var t=u[e],s=Math.abs(t.total_cases),c=0;a>d&&(c=Math.abs(m-s),d=a,m=s);var b=s-(Math.abs(t.total_recoveries)+Math.abs(t.total_deaths));s>0&&(n=!1),!n&&a<h&&(r.push(e),o.push(s),l.push(b),i.push(c))}));var b=s.totalCasesChart,p=(s.totalDeathCasesChart,s.totalRecoveredCasesChart,s.totalActiveCasesChart),g=s.newCasesChart;c({totalCasesChart:Object(j.a)({},b,{series:[Object(j.a)({},b.series,{data:o})],options:Object(j.a)({},b.options,{xaxis:{categories:r}})}),totalActiveCasesChart:Object(j.a)({},p,{series:[Object(j.a)({},p.series,{data:l})],options:Object(j.a)({},p.options,{xaxis:{categories:r}})}),newCasesChart:Object(j.a)({},g,{series:[Object(j.a)({},g.series,{data:i})],options:Object(j.a)({},g.options,{xaxis:{categories:r}})})})}}),[t]);var l=function(){return 20*s.totalCasesChart.series[0].data.length};return r.a.createElement("div",{className:"text-center"},r.a.createElement("span",null,r.a.createElement("strong",null,"\u041e\u0431\u0449 \u0431\u0440\u043e\u0439 \u0441\u043b\u0443\u0447\u0430\u0438 \u043f\u043e \u0434\u0430\u0442\u0430:")),r.a.createElement(A.a,{options:s.totalCasesChart.options,series:s.totalCasesChart.series,type:"bar",width:"100%",height:l()}),r.a.createElement("span",null,r.a.createElement("strong",null,"\u0410\u043a\u0442\u0438\u0432\u043d\u0438 \u0441\u043b\u0443\u0447\u0430\u0438 \u043f\u043e \u0434\u0430\u0442\u0430:")),r.a.createElement(A.a,{options:s.totalActiveCasesChart.options,series:s.totalActiveCasesChart.series,type:"bar",width:"100%",height:l()}),r.a.createElement("span",null,r.a.createElement("strong",null,"\u041d\u043e\u0432\u0438 \u0441\u043b\u0443\u0447\u0430\u0438 \u043f\u043e \u0434\u0430\u0442\u0430:")),r.a.createElement(A.a,{options:s.newCasesChart.options,series:s.newCasesChart.series,type:"bar",width:"100%",height:l()}))},B=function(e){var a=Object(n.useContext)(C),t=Object(m.a)(a,8),o=t[0],i=t[1],s=t[2],c=t[3],l=t[4],u=(t[5],t[6]),h=t[7];Object(n.useEffect)((function(){"loading"===u&&("GLOBAL"===l?function(){var e=Object(S.a)(O.a.mark((function e(){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.thevirustracker.com/free-api?global=stats",{}).then((function(e){return e.body})).then((function(e){var a=e.getReader();return a.read().then((function(e){var t=e.done,n=e.value;t&&a.close();for(var r="",o=0;o<n.length;o++)r+=String.fromCharCode(parseInt(n[o]));return JSON.parse(r)}))})).then((function(e){return e.results[0]}));case 2:return a=e.sent,i(a),console.log(a),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){!0===e&&h("loaded")})):function(){var e=Object(S.a)(O.a.mark((function e(){var a,t,n,r,o,s,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.thevirustracker.com/free-api?countryTotal=".concat(l)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e),h("error"),{}}));case 2:return a=e.sent,t=a.countrydata[0],i(t),e.next=7,fetch("https://api.thevirustracker.com/free-api?countryTimeline=".concat(l)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e),{}}));case 7:return n=e.sent,r=n.countrytimelinedata[0].info,o=n.timelineitems[0],s={},Object.keys(o).forEach((function(e){var a=o[e];if("stat"!==e){var t=new Date(Date.parse(e)).toISOString().slice(5,10);s[t]=a}})),u={country:r.title,countryCode:r.code,timeline:s},c(u),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){!0===e&&h("loaded")})))}),[u]);var d=o.total_cases,b=o.total_recovered,p=(o.total_unresolved,o.total_deaths),g=o.total_new_cases_today,E=o.total_new_deaths_today,v=o.total_active_cases,f=(o.total_serius_cases,(p/d*100).toFixed(2));f=isFinite(f)?f:0;var j=(b/d*100).toFixed(2);j=isFinite(j)?j:0;var w=(g/d*100).toFixed(2);w=isFinite(w)?w:0;var A=!(0===Object.keys(o).length&&0===Object.keys(s).length);return Object(n.useMemo)((function(){return"loading"===u?r.a.createElement("h4",null,"\u0417\u0430\u0440\u0435\u0436\u0434\u0430\u043d\u0435..."):"loaded"===u?A?r.a.createElement("div",null,r.a.createElement(y.a,{variant:"secondary"},r.a.createElement(y.a.Heading,null,"\u041e\u0431\u0449 \u0431\u0440\u043e\u0439 \u0441\u043b\u0443\u0447\u0430\u0438: ",d)),r.a.createElement(y.a,{variant:"danger"},r.a.createElement(y.a.Heading,null,"\u041f\u043e\u0447\u0438\u043d\u0430\u043b\u0438: ",p," (",f,"%)")),r.a.createElement(y.a,{variant:"success"},r.a.createElement(y.a.Heading,null,"\u0418\u0437\u043b\u0435\u043a\u0443\u0432\u0430\u043d\u0438: ",b," (",j,"%)")),r.a.createElement("hr",null),r.a.createElement(y.a,{variant:"primary"},r.a.createElement(y.a.Heading,null,"\u0410\u043a\u0442\u0438\u0432\u043d\u0438 \u0441\u043b\u0443\u0447\u0430\u0438: ",v)),r.a.createElement(y.a,{variant:"danger"},r.a.createElement(y.a.Heading,null,"\u041d\u043e\u0432\u0438 \u0441\u043b\u0443\u0447\u0430\u0438 (\u0434\u043d\u0435\u0441): ",g," (+",w,"%)")),r.a.createElement(y.a,{variant:"danger"},r.a.createElement(y.a.Heading,null,"\u0421\u043c\u044a\u0440\u0442\u043d\u0438 \u0441\u043b\u0443\u0447\u0430\u0438 (\u0434\u043d\u0435\u0441): ",E)),"GLOBAL"===l?r.a.createElement("h4",null,r.a.createElement("a",{href:"https://www.worldometers.info/coronavirus/",target:"_blank"},"\u0417\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0432\u0438\u0436 \u0442\u0443\u043a: www.worldometers.info/coronavirus/")):r.a.createElement(G,null)):r.a.createElement("h4",null,"\u041d\u044f\u043c\u0430 \u0434\u0430\u043d\u043d\u0438"):r.a.createElement("h4",null,"\u0413\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0440\u0435\u0436\u0434\u0430\u043d\u0435\u0442\u043e, \u043c\u043e\u043b\u044f \u043e\u043f\u0438\u0442\u0430\u0439\u0442\u0435 \u043f\u043e-\u043a\u044a\u0441\u043d\u043e.")}),[u])},L=function(){return r.a.createElement(E,null,r.a.createElement("div",{className:"container text-center"},r.a.createElement(v,null),r.a.createElement(B,null),r.a.createElement(d,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));localStorage.getItem("country")||localStorage.setItem("country","BG"),i.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.8a68379e.chunk.js.map